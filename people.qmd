---
format:
  html:
    page-layout: full
---

```{r}
#| echo: false
#| message: false
library(yaml)
people <- read_yaml("_data/people.yml")
```

::: {.grid}

```{r}
#| echo: false
#| results: asis
for (i in seq_along(people)) {
  person <- people[[i]]
  cat(sprintf("::: {.g-col-md-4 .g-col-12}\n\n![](%s){.headshot-image}\n\n**%s %s**\n\n*%s*\n\n%s", person$image, person$name, if (!is.null(person$name_zh)) person$name_zh else "", person$role, person$bio))
  if (!is.null(person$outside_science) && nchar(person$outside_science) > 0) cat(sprintf("\n\n%s", person$outside_science))
  if (!is.null(person$email) && nchar(person$email) > 0) cat(sprintf("\n\n**Email:** %s", person$email))
  if (!is.null(person$links) && length(person$links) > 0) cat(sprintf("\n\n%s", paste(sprintf("[%s](%s)", sapply(person$links, function(x) x$label), sapply(person$links, function(x) x$url)), collapse=" Â· ")))
  cat("\n\n:::\n\n")
}
```

:::

